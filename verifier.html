<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style2.css">
    <title>Login Page</title>
</head>
<body>
    <div class="login">
        <div class="log">
            <h3 class="side">REC Sonbhadra</h3>
            
            <h1 class="side">One stop portal for students and companies for placement.</h1>
            
            <img src="logo.png" width="250px" height="250px">
            <br>
            <u><h2 class="p1">Instructions</h2></u>
            
            <p class="p1">Login Using Your Institute Roll Number and secret Verifier Access Password.</p>
        </div>
    
        <div class="loginmain">

            <h3 class="h1">Login to REC Sonbhadra Placement 
                Portal </h3>

    <form action="">
         <!-- Headings for the form -->
        <div class="headingsContainer">
            
            <p>Authenticate For Verifier Access</p>
        </div>

        <!-- Main container for all inputs -->
        <div class="mainContainer">
            <!-- Username -->
           <label for="username">Roll number</label>
            <!-- Make sure to put "required" for both the input fields -->
            <input type="text" placeholder="Enter Roll Number" name="username" required>

            <br><br>

            <!-- Password -->
            <label for="pswrd">Verifier password</label>
            <input type="password" placeholder="Verifier Password" name="pswrd" required>

            <label for="pswrd">Personal password</label>
            <input type="password" placeholder="Enter Personal Password" name="pswrd" required>

            <!-- sub container for the checkbox and forgot password link -->
            <div class="subcontainer">
                <label>
                  <input type="checkbox" name="remember"> Remember me
                </label>
                <p class="forgotpsd"> <a href="#">Forgot Password?</a></p>
            </div>

            <!-- Submit button -->
             <button type="submit"><a href="#">Login</a></button>

            <!-- Sign up link -->
            <p class="register">Don't have an account?  <a href="#">Register here!</a></p>
        </div>

        </div>



    </form>
    
     <script >
        document.querySelector('button[type="submit"]').addEventListener('click', function (event) {
            // Prevent the form from submitting and page reload
            event.preventDefault();
    
            // Get the values from the form fields
            var rollNumber = document.getElementsByName('username')[0].value;
            var verifierPassword = document.getElementsByName('pswrd')[0].value;
            var personalPassword = document.getElementsByName('pswrd')[1].value;
    
            //  validation logic here
            if (validateCredentials(rollNumber, verifierPassword, personalPassword)) {
                // Redirect to .\Student Portal\index.html if validation is successful
                window.location.href = '.\\Student Portal\\index.html';
            } else {
                // Display an error message or handle invalid credentials
                alert('Invalid Roll Number, verifier password, or personal password. Please try again.');
            }
        });
    
        // Function to validate Roll Number, verifier password, and personal password
        function validateCredentials(rollNumber, verifierPassword, personalPassword) {
            // Hardcoded values for demonstration purposes
            var validCredentials = [
                { rollNumber: '2208410100021', verifierPassword: 'Ayush@123', personalPassword: 'Ayush@123' },
                { rollNumber: '2208410100034', verifierPassword: 'Mahendra@123', personalPassword: 'Mahendra@123' }
            ];
    
            // Check if entered credentials match any of the valid combinations
            for (var i = 0; i < validCredentials.length; i++) {
                if (
                    rollNumber === validCredentials[i].rollNumber &&
                    verifierPassword === validCredentials[i].verifierPassword &&
                    personalPassword === validCredentials[i].personalPassword
                ) {
                    return true;
                }
            }
    
            return false;
        }
    
        // Function to handle "Forgot Password" link
        document.querySelector('.forgotpsd a').addEventListener('click', function (event) {
            event.preventDefault();
    
            // Simulate password recovery logic 
            var rollNumber = prompt('Enter your Roll Number to initiate password recovery:');
            if (rollNumber) {
                var newPassword = generateRandomPassword();
                alert('A new password has been sent to your registered email address.');
                // Send the new password to the user's email.
                // In this  just update the stored password.
                updateStoredPassword(rollNumber, newPassword);
            }
        });
    
        // Function to generate a random password
        function generateRandomPassword() {
            //  Random password generation logic
            return Math.random().toString(36).slice(-8);
        }
    
        // Function to update stored password 
        function updateStoredPassword(rollNumber, newPassword) {
            //  Logic to update the password in your database
            alert('Password updated in the database.');
        }
    
        // Function to handle "Register Here" link
        document.querySelector('.register a').addEventListener('click', function (event) {
            event.preventDefault();
    
            // Prompt to get user input for registration
            var newRollNumber = prompt('Enter your new Roll Number:');
            var newVerifierPassword = prompt('Enter your new Verifier Password:');
            var newPersonalPassword = prompt('Enter your new Personal Password:');
    
            // Validate the inputs More Validation can be added
            if (newRollNumber && newVerifierPassword && newPersonalPassword) {
                // Create a new entry for registration
                var newEntry = {
                    rollNumber: newRollNumber,
                    verifierPassword: newVerifierPassword,
                    personalPassword: newPersonalPassword
                };
    
                // Add the new entry to the valid credentials 
                validCredentials.push(newEntry);
    
                alert('Registration successful! You can now use your new credentials to log in.');
            } else {
                alert('Registration canceled. Please fill in all the required fields.');
            }
        });
    </script>
    


        </div>
    </div>
</body>
</html>